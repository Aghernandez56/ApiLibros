@model ConsumirApiLibros.Models.Prestamos

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-header bg-primary text-white rounded-top-4">
                    <h3 class="mb-0">📚 Detalles del Préstamo</h3>
                </div>
                <div class="card-body p-4">
                    <h5 class="card-title text-muted mb-4">ID de Préstamo: <span class="text-dark">@Model.IdPrestamo</span></h5>

                    <ul class="list-group list-group-flush mb-4">
                        <li class="list-group-item"><strong>📘 Libro ID:</strong> @Model.LibroId</li>
                        <li class="list-group-item"><strong>👤 Usuario ID:</strong> @Model.UsuarioId</li>
                        <li class="list-group-item"><strong>📅 Fecha de Préstamo:</strong> @Model.FechaPrestamo?.ToString("dd/MM/yyyy")</li>
                        <li class="list-group-item"><strong>📆 Fecha de Devolución:</strong> @Model.FechaDevolucion?.ToString("dd/MM/yyyy")</li>
                    </ul>

                    <form action="/ActualizarPrestamo" method="post" class="mb-3">
                        <input type="hidden" name="IdPrestamo" value="@Model.IdPrestamo" />
                        <div class="mb-3">
                            <label class="form-label"><strong>📝 Estado:</strong></label>
                            <select asp-for="Estado" class="form-select">
                                <option value="Prestado" selected="@Model.Estado == " Prestado"">Prestado</option>
                                <option value="Devuelto" selected="@Model.Estado == " Devuelto"">Devuelto</option>
                                <option value="Retrasado" selected="@Model.Estado == " Retrasado"">Retrasado</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success w-100">💾 Guardar Cambios</button>
                    </form>

                    <form action="/EliminarPrestamo" method="post" onsubmit="return confirm('¿Estás seguro de eliminar este préstamo?');">
                        <input type="hidden" name="id" value="@Model.IdPrestamo" />
                        <button type="submit" class="btn btn-danger w-100">🗑️ Eliminar Préstamo</button>
                    </form>

                    <div class="text-center mt-4">
                        <a href="/Prestamos" class="btn btn-secondary">🔙 Volver a la Lista</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
